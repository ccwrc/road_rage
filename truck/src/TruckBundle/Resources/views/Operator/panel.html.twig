{% extends "TruckBundle:Main:base.html.twig" %}

{% block title %}operator panel{% endblock %}

{% block stylesheets %}  
    <link href="{{ asset('/css/operator.css') }}" rel="stylesheet" />
    <link href="{{ asset('/css/buttons.css') }}" rel="stylesheet" />
{% endblock %}


{% block logo %}
    Bad Truck Logo <br/><br/>

    {% if caseId != 0 %}
        Displayed case: {{ caseId }}
    {% endif %}
{% endblock %}


{% block menuBar %}
    {# for operator (overall) #}
    {% if is_granted('ROLE_OPERATOR') %}
        &nbsp;
        <button title="new window" class="panelGreenButton" 
                onclick="window.open('{{ path('truck_dealer_showallactivedealers') }}');">
            active dealers
        </button>      
        <button title="new window" class="panelGreenButton" 
                onclick="window.open('{{ path('truck_main_index') }}');">
            main page
        </button>          
        <button title="new window" class="panelGreenButton" 
                onclick="window.open('{{ path('truck_main_index') }}');">
            reserve
        </button>    
        <br/>    
    {% endif %}
    {# for control #}
    {% if is_granted('ROLE_CONTROL') %}
        &nbsp;
        <button title="new window" class="panelYellowButton" 
                onclick="window.open('{{ path('truck_dealer_showallactivedealers') }}');">
            report panel?
        </button>          
        <br/>
    {% endif %}
    {# for admin? #}
    {% if is_granted('ROLE_ADMIN') %}
        &nbsp;
        <button title="new window" class="panelGreenButton" 
                onclick="window.open('{{ path('truck_dealer_showallactivedealers') }}');">
            admin panel?
        </button>          
        <br/>
    {% endif %}
    {# case bar for operator #}
    {% if is_granted('ROLE_OPERATOR') %}
        &nbsp;
        <button title="new window" class="panelYellowButton" 
                onclick="window.open('{{ path('truck_vehicle_createvehicle') }}');">
            new vehicle
        </button>          
        <button title="new window" class="panelYellowButton" 
                onclick="window.open('{{ path('truck_vehicle_createvehicle') }}');">
            search vehicle - reserved
        </button>    
        <button title="new window" class="panelYellowButton" 
                onclick="window.open('{{ path('truck_monitoring_monitoringcodesmanual') }}');">
            monitoring manual
        </button>        
        <button title="new window" class="panelYellowButton" 
                onclick="window.open('{{ path('truck_accidentcase_caseprogresscolormanual') }}');">
            cases-color manual
        </button>               
    {% endif %}
{% endblock %}


{% block cases %}
    {% if casesStatus == "inactive" %}  
        {% render url('truck_accidentcase_showallinactivecases', {"caseId":caseId}) %}
    {% elseif casesStatus == "all" %}
        {% render url('truck_accidentcase_showallcases', {"caseId":caseId}) %}
    {% else %}    
        {% render url('truck_accidentcase_showallactivecases', {"caseId":caseId}) %}
    {% endif %} 
{% endblock %}


{% block monitoring %}
    {% render url('truck_accidentcase_showstartcase', {"caseId":caseId}) %}
    {% if caseId != 0 %} 
        <button title="Payment Guarantee (request)" class="panelRedButton"
                onclick="window.location = '{{ path('truck_monitoringpg_createmonitoringpg', {"caseId":caseId}) }}';">
            PG  
        </button>
        {# old type button below #}
        {#  <a title="Confirmation Payment Guarantee" href="{{ path('truck_monitoringcpg_createmonitoringcpg', {"caseId":caseId}) }}">
            <button class="panelRedButton">CPG</button> </a>#}
        <button title="Confirmation Payment Guarantee" class="panelRedButton"
                onclick="window.location = '{{ path('truck_monitoringcpg_createmonitoringcpg', {"caseId":caseId}) }}';">
            CPG  
        </button>        
        <button title="Repair Order" class="panelOrangeButton" 
                onclick="window.location = '{{ path('truck_monitoringro_createmonitoringro', {"caseId":caseId}) }}';">
            RO  
        </button>     
        <button title="Estimated Arrival Time" class="panelOrangeButton" 
                onclick="window.location = '{{ path('truck_monitoringeta_createmonitoringeta', {"caseId":caseId}) }}';">
            ETA
        </button>       
        <button title="STaRt Repair Time" class="panelGreenButton" 
                onclick="window.location = '{{ path('truck_monitoringstrr_createmonitoringstrr', {"caseId":caseId}) }}';">
            STRR
        </button>     
        <button title="END case" class="panelGreenButton" 
                onclick="window.location = '{{ path('truck_monitoringend_createmonitoringend', {"caseId":caseId}) }}';">
            END
        </button>  
        &nbsp;    
        <button title="General. Outgoing phone call/fax/mail/etc." class="panelGreenButton" 
                onclick="window.location = '{{ path('truck_monitoringout_createmonitoringout', {"caseId":caseId}) }}';">
            Out
        </button>       
        <button title="General. Incoming phone call/fax/mail/etc." class="panelGreenButton" 
                onclick="window.location = '{{ path('truck_monitoringincoming_createmonitoringincoming', {"caseId":caseId}) }}';">
            Incoming
        </button>   
        <br/>    

        {# new window!  <button title="Repair Order" class="panelOrangeButton" 
                        onclick="window.open('{{ path('truck_monitoringro_createmonitoringro', {"caseId":caseId}) }}');">
                    new window !
                </button>  #}              
    {% endif %}
    {% render url('truck_monitoring_showallmonitoringsforcase', {"caseId":caseId}) %}
    {% render url('truck_accidentcase_showendcase', {"caseId":caseId}) %}
{% endblock %}


{% block logged %}
    {{ app.user.username }} 
{% endblock %}


{% block infoBar %}
    {{ parent() }} info1 messageInfo alarmInfo
{% endblock %}

