{% extends "TruckBundle:Main:base.html.twig" %}

{% block title %}operator panel{% endblock %}

{% block stylesheets %}  
    <link href="{{ asset('/css/operator.css') }}" rel="stylesheet" />
    <link href="{{ asset('/css/buttons.css') }}" rel="stylesheet" />
{% endblock %}


{% block logo %}
    Bad Truck Logo <br/><br/>

    {% if caseId != 0 %}
        Displayed case: {{ caseId }}
    {% endif %}
{% endblock %}


{% block menuBar %}
    {# for operator (overall) #}
    {% if is_granted('ROLE_OPERATOR') %}
        <a target="_blank" title="new window" href="{{ path('truck_dealer_showallactivedealers') }}" >active dealers</a> 
        <a target="_blank" title="new window" href="{{ path('truck_main_index') }}" >main page</a> 
        <a target="_blank" title="new window" href="{{ path('truck_dealer_showalldealers') }}" >reserve</a>
    {% endif %}
    <br/>
    {# for control #}
    {% if is_granted('ROLE_CONTROL') %}
        <a target="_blank" title="new window" href="{{ path('truck_dealer_showalldealers') }}" >report panel?</a>
    {% endif %}
    <br/>
    {# for admin? #}
    {% if is_granted('ROLE_ADMIN') %}
        <a target="_blank" title="new window" href="{{ path('truck_dealer_showalldealers') }}" >admin panel?</a>
    {% endif %}
    <br/>
    {# case bar for operator #}
    {% if is_granted('ROLE_OPERATOR') %}
        <a target="_blank" title="new window" href="{{ path('truck_vehicle_createvehicle') }}" >new vehicle</a> 
        <a target="_blank" title="new window" href="{{ path('truck_main_index') }}" >res-new case</a> 
        <a target="_blank" title="new window" href="{{ path('truck_monitoring_monitoringcodesmanual') }}" >monitoring-codes</a>
        <a target="_blank" title="new window" href="{{ path('truck_accidentcase_caseprogresscolormanual') }}" >cases-colors</a>
        <a target="_blank" title="new window" href="{{ path('truck_main_index') }}" >reserved</a>
    {% endif %}
{% endblock %}


{% block cases %}
    {% if casesStatus == "inactive" %}  
        {% render url('truck_accidentcase_showallinactivecases', {"caseId":caseId}) %}
    {% elseif casesStatus == "all" %}
        {% render url('truck_accidentcase_showallcases', {"caseId":caseId}) %}
    {% else %}    
        {% render url('truck_accidentcase_showallactivecases', {"caseId":caseId}) %}
    {% endif %} 
{% endblock %}


{% block monitoring %}
    {% render url('truck_accidentcase_showstartcase', {"caseId":caseId}) %}
    {% if caseId != 0 %} 
        <button title="Payment Guarantee (request)" class="panelRedButton"
                onclick="window.location = '{{ path('truck_monitoringpg_createmonitoringpg', {"caseId":caseId}) }}';">
            PG  
        </button>
        {# old type button below #}
        {#  <a title="Confirmation Payment Guarantee" href="{{ path('truck_monitoringcpg_createmonitoringcpg', {"caseId":caseId}) }}">
            <button class="panelRedButton">CPG</button> </a>#}
        <button title="Confirmation Payment Guarantee" class="panelRedButton"
                onclick="window.location = '{{ path('truck_monitoringcpg_createmonitoringcpg', {"caseId":caseId}) }}';">
            CPG  
        </button>        
        <button title="Repair Order" class="panelOrangeButton" 
                onclick="window.location = '{{ path('truck_monitoringro_createmonitoringro', {"caseId":caseId}) }}';">
            RO  
        </button>     
        <button title="Estimated Arrival Time" class="panelOrangeButton" 
                onclick="window.location = '{{ path('truck_monitoringeta_createmonitoringeta', {"caseId":caseId}) }}';">
            ETA
        </button>       
        <button title="STaRt Repair Time" class="panelGreenButton" 
                onclick="window.location = '{{ path('truck_monitoringstrr_createmonitoringstrr', {"caseId":caseId}) }}';">
            STRR
        </button>     
        <button title="END case" class="panelGreenButton" 
                onclick="window.location = '{{ path('truck_monitoringend_createmonitoringend', {"caseId":caseId}) }}';">
            END
        </button>  
        &nbsp;    
        <button title="General. Outgoing phone call/fax/mail/etc." class="panelGreenButton" 
                onclick="window.location = '{{ path('truck_monitoringout_createmonitoringout', {"caseId":caseId}) }}';">
            Out
        </button>       
        <button title="General. Incoming phone call/fax/mail/etc." class="panelGreenButton" 
                onclick="window.location = '{{ path('truck_monitoringincoming_createmonitoringincoming', {"caseId":caseId}) }}';">
            Incoming
        </button>   
        <br/>    
        
{# new window!  <button title="Repair Order" class="panelOrangeButton" 
                onclick="window.open('{{ path('truck_monitoringro_createmonitoringro', {"caseId":caseId}) }}');">
            new window !
        </button>  #}              
        
{#        <a title="Confirmation Payment Guarantee" href="{{ path('truck_monitoringcpg_createmonitoringcpg', {"caseId":caseId}) }}">
            <button class="panelRedButton">CPG</button>
        </a>#}
{#        <a title="Repair Order" href="{{ path('truck_monitoringro_createmonitoringro', {"caseId":caseId}) }}">
            <button class="panelOrangeButton">RO</button>
        </a>#}
{#        <a title="Estimated Arrival Time" href="{{ path('truck_monitoringeta_createmonitoringeta', {"caseId":caseId}) }}">
            <button class="panelOrangeButton">ETA</button>
        </a>#}
{#        <a title="STaRt Repair Time" href="{{ path('truck_monitoringstrr_createmonitoringstrr', {"caseId":caseId}) }}">
            <button class="panelGreenButton">STRR</button>
        </a>#}
{#        <a title="END case" href="{{ path('truck_monitoringend_createmonitoringend', {"caseId":caseId}) }}">
            <button class="panelGreyButton">END</button>
        </a>
        &nbsp;#}
{#        <a title="General. Outgoing phone call/fax/mail/etc. " href="{{ path('truck_monitoringout_createmonitoringout', {"caseId":caseId}) }}">
            <button class="panelGreyButton">Out</button>
        </a>#}
{#        <a title="General. Incoming phone call/fax/mail/etc. " href="{{ path('truck_monitoringincoming_createmonitoringincoming', {"caseId":caseId}) }}">
            <button class="panelGreyButton">Incoming</button>
        </a>#}
    {% endif %}
    {% render url('truck_monitoring_showallmonitoringsforcase', {"caseId":caseId}) %}
    {% render url('truck_accidentcase_showendcase', {"caseId":caseId}) %}
{% endblock %}


{% block logged %}
    {{ app.user.username }} 
{% endblock %}


{% block infoBar %}
    {{ parent() }} info1 messageInfo alarmInfo
{% endblock %}

